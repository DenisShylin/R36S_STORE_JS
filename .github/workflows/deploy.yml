name: Build and deploy to GitHub Pages

on:
  push:
    branches: [main]
  workflow_dispatch: # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å workflow –≤—Ä—É—á–Ω—É—é

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v3 # –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ –±–æ–ª–µ–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

      - name: Setup Node.js ‚öôÔ∏è
        uses: actions/setup-node@v3
        with:
          node-version: 18 # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Node.js 18 –¥–ª—è —Å–±–æ—Ä–∫–∏
          cache: 'npm' # –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ node_modules –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏

      - name: Install dependencies üì¶
        run: npm ci # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç package-lock.json –¥–ª—è –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

      - name: Build üîß
        run: npm run build

      - name: Deploy üöÄ
        uses: JamesIves/github-pages-deploy-action@v4 # –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ –±–æ–ª–µ–µ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
        with:
          branch: gh-pages # –í–µ—Ç–∫–∞ –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
          folder: dist # –ü–∞–ø–∫–∞ —Å —Å–æ–±—Ä–∞–Ω–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏
          clean: true # –û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ñ–∞–π–ª–æ–≤
          token: ${{ secrets.GITHUB_TOKEN }} # –¢–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é
