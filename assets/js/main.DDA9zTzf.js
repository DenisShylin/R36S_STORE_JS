var S=(e,t,o)=>new Promise((r,n)=>{var i=l=>{try{s(o.next(l))}catch(a){n(a)}},c=l=>{try{s(o.throw(l))}catch(a){n(a)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,c);s((o=o.apply(e,t)).next())});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const A="modulepreload",B=function(e){return"/R36S_STORE_JS/"+e},_={},q=function(t,o,r){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),s=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));n=Promise.allSettled(o.map(l=>{if(l=B(l),l in _)return;_[l]=!0;const a=l.endsWith(".css"),m=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":A,a||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),a)return new Promise((w,b)=>{f.addEventListener("load",w),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(c){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=c,window.dispatchEvent(s),!s.defaultPrevented)throw c}return n.then(c=>{for(const s of c||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})};function H(){let e=!1,t=window.scrollY,o=null;const r=document.querySelector(".header"),n=document.querySelector(".burger-btn"),i=document.querySelector(".burger-line"),c=document.querySelector(".mobile-menu"),s=document.querySelectorAll(".our-menu-link, .mobile-menu__link");function l(){const d=window.scrollY,p=t<d;o&&clearTimeout(o),d>100?w(!p):w(!0),t=d,f(d>0),o=setTimeout(()=>{},150)}function a(){e=!e,m()}function m(){e?(r.classList.add("menu-open"),n.setAttribute("aria-expanded","true"),i.classList.add("open"),c.classList.add("open"),document.body.style.overflow="hidden"):(r.classList.remove("menu-open"),n.setAttribute("aria-expanded","false"),i.classList.remove("open"),c.classList.remove("open"),document.body.style.overflow="unset")}function f(d){d?r.classList.add("scrolled"):r.classList.remove("scrolled")}function w(d){d?(r.classList.add("visible"),r.classList.remove("hidden")):(r.classList.add("hidden"),r.classList.remove("visible"))}function b(d){d.preventDefault();const p=d.currentTarget.getAttribute("href"),y=p.replace("#",""),v=document.getElementById(y);v&&(w(!0),setTimeout(()=>{const g=r.offsetHeight,E=v.getBoundingClientRect().top+window.scrollY-g;window.scrollTo({top:E,behavior:"smooth"}),e&&(e=!1,m()),window.history.replaceState(null,"",`${window.location.pathname}${p}`),setTimeout(()=>{t=window.scrollY},100)},50))}function L(){if(window.location.hash){const d=window.location.hash.replace("#",""),p=document.getElementById(d);p&&setTimeout(()=>{const y=r.offsetHeight,g=p.getBoundingClientRect().top+window.scrollY-y;window.scrollTo({top:g,behavior:"smooth"})},100)}}window.addEventListener("scroll",l),window.addEventListener("resize",()=>{!(window.innerWidth<=768)&&e&&(e=!1,m())}),n&&n.addEventListener("click",a),s.forEach(d=>{d.addEventListener("click",b)}),L()}function C(){console.log("Hero section initialized");const e=document.querySelector(".hero"),t=document.querySelector(".hero__console-img"),o=document.querySelector(".hero__image source"),r=document.querySelector(".hero__content"),n=document.querySelector(".hero__description--desktop"),i=document.querySelector(".hero__description--mobile"),c=document.querySelector(".hero__pricing"),s=document.getElementById("buy-button"),l=document.getElementById("more-details-button"),a="/img/hero/herou1_1x_.png",m="/img/hero/herou1_2x_.png";console.log("Using image paths:",{heroImage1x:a,heroImage2x:m});function f(){if(!t){console.error("Hero image element not found");return}console.log("Setting hero image paths"),t.onerror=()=>{console.error("Failed to load hero image:",t.src),e.classList.add("hero--loaded")},t.onload=()=>{console.log("Hero image loaded successfully"),e.classList.add("hero--loaded")},t.src=m,t.srcset=`${a} 1x, ${m} 2x`,t.complete&&(console.log("Hero image already loaded (from cache)"),e.classList.add("hero--loaded"))}function w(){o?o.srcset=a:console.warn("Hero image source element not found")}function b(){const y=window.innerWidth>992;n&&i&&c&&(y?(n.style.display="block",i.style.display="none"):(n.style.display="none",i.style.display="block"))}function L(){if(!r)return;new IntersectionObserver(v=>{v.forEach(g=>{g.isIntersecting&&g.target.classList.add("animate-in")})},{threshold:.1}).observe(r)}function d(){s&&s.addEventListener("click",()=>{window.open("https://www.aliexpress.com/item/1005007171465465.html","_blank","noopener,noreferrer")}),l&&l.addEventListener("click",p)}function p(y){y.preventDefault();const v=document.getElementById("features"),g=document.querySelector(".header");if(v&&g){const x=g.offsetHeight,E=v.getBoundingClientRect().top,I=window.scrollY||window.pageYOffset,O=E+I-x;window.scrollTo({top:O,behavior:"smooth"}),window.history.replaceState(null,"",`${window.location.pathname}#features`)}}f(),w(),b(),L(),d(),window.addEventListener("resize",b)}function R(){return console.log("About секция инициализирована"),!0}function F(){return console.log("Features секция инициализирована"),!0}function D(){return console.log("Categories секция инициализирована"),!0}function j(){return console.log("Articles секция инициализирована"),!0}function Y(){return console.log("Reviews секция инициализирована"),!0}function W(){return console.log("Contact секция инициализирована"),!0}function z(){return console.log("Products секция инициализирована"),!0}function k(){return console.log("Footer секция инициализирована"),!0}function M(){const e=document.querySelector(".mobile-menu");if(!e){console.error("Мобильное меню не найдено в DOM");return}const t=e.querySelector(".close-button");if(!t){console.error("Кнопка закрытия не найдена в мобильном меню");return}t.addEventListener("click",()=>{o()});function o(){e.classList.remove("open");const c=document.querySelector(".burger-line");c&&c.classList.remove("open"),document.body.style.overflow="unset";const s=document.querySelector(".header");s&&s.classList.remove("menu-open");const l=document.querySelector(".burger-btn");l&&l.setAttribute("aria-expanded","false")}e.querySelectorAll(".mobile-menu__link").forEach(c=>{c.addEventListener("click",()=>{setTimeout(()=>{o()},150)})});const n=e.querySelector(".mobile-menu__background");n&&n.addEventListener("click",()=>{o()});function i(){e.querySelectorAll(".mobile-menu__icon").forEach((s,l)=>{s.style.opacity="0",s.style.transform="translateX(-20px)",new MutationObserver(m=>{m.forEach(f=>{f.attributeName==="class"&&(e.classList.contains("open")?setTimeout(()=>{s.style.transition="all 0.4s ease",s.style.opacity="1",s.style.transform="translateX(0)"},100+l*70):(s.style.opacity="0",s.style.transform="translateX(-20px)"))})}).observe(e,{attributes:!0})})}i(),console.log("Мобильное меню с иконками инициализировано")}let P=()=>console.log("Modal компонент недоступен");(function(){return S(this,null,function*(){try{P=(yield q(()=>import("./ModalPortal.Cv5sWs3j.js"),[])).initModal}catch(t){console.log("Modal.js не загружен:",t)}})})();function T(e){return S(this,null,function*(){try{return(yield fetch(e,{method:"HEAD"})).ok}catch(t){return console.warn(`Ресурс ${e} недоступен:`,t),!1}})}function h(e){return S(this,null,function*(){const o=`/R36S_STORE_JS/sections/${e}/${e}.html`;try{if(!(yield T(o)))return console.warn(`Секция ${e} недоступна, используем заглушку`),`<section id="${e.toLowerCase()}" class="section">
                <div class="container">
                  <h2>Секция ${e}</h2>
                  <p>Контент будет доступен позже</p>
                </div>
              </section>`;const n=yield fetch(o);if(!n.ok)throw new Error(`HTTP ошибка ${n.status}`);return yield n.text()}catch(r){return console.error(`Ошибка загрузки секции ${e}:`,r),`<div class="error-section">Ошибка загрузки секции ${e}</div>`}})}function U(e){return S(this,null,function*(){const o=`/R36S_STORE_JS/components/${e}/${e}.html`;try{if(!(yield T(o)))return console.warn(`Компонент ${e} недоступен, используем заглушку`),`<div id="${e.toLowerCase()}" class="component">
                <div class="container">
                  <p>Компонент ${e} недоступен</p>
                </div>
              </div>`;const n=yield fetch(o);if(!n.ok)throw new Error(`HTTP ошибка ${n.status}`);return yield n.text()}catch(r){return console.error(`Ошибка загрузки компонента ${e}:`,r),`<div class="error-component">Ошибка загрузки компонента ${e}</div>`}})}function u(e,t){try{t(),console.log(`${e} инициализирован`)}catch(o){console.error(`Ошибка инициализации ${e}:`,o)}}function J(){return S(this,null,function*(){console.log("Инициализация приложения");const e=document.getElementById("root");if(!e)throw console.error("Элемент #root не найден"),new Error("Элемент #root не найден");e.innerHTML=`
    <div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
      <div style="text-align: center;">
        <div style="border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 50px; height: 50px; animation: spin 2s linear infinite; margin: 0 auto;"></div>
        <p style="margin-top: 15px; font-family: Arial, sans-serif;">Загрузка...</p>
      </div>
    </div>
    <style>
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  `;const t="/R36S_STORE_JS/";console.log("Режим:","production"),console.log("Базовый путь:",t);try{const[o,r]=yield Promise.all([h("Header").catch(()=>'<header class="header">Заголовок сайта</header>'),U("MobileMenu").catch(()=>'<div class="mobile-menu"></div>')]),n=window.location.pathname.replace(t,"/");if(n==="/"||n==="/index.html"){const i={hero:h("Hero"),about:h("About"),features:h("Features"),categories:h("Categories"),articles:h("Articles"),reviews:h("Reviews"),contact:h("Contact"),products:h("Products"),footer:h("Footer")},c=yield Promise.allSettled(Object.values(i)),s={};Object.keys(i).forEach((l,a)=>{s[l]=c[a].status==="fulfilled"?c[a].value:`<section id="${l}" class="error-section">Ошибка загрузки ${l}</section>`}),e.innerHTML=`
        ${o}
        ${r}
        <main id="main-content">
          ${s.hero}
          ${s.about}
          ${s.features}
          ${s.categories}
          ${s.articles}
          ${s.reviews}
          ${s.contact}
          ${s.products}
        </main>
        ${s.footer}
      `,u("Header",H),u("MobileMenu",M),u("Hero",C),u("About",R),u("Features",F),u("Categories",D),u("Articles",j),u("Reviews",Y),u("Contact",W),u("Products",z),u("Footer",k),u("Modal",P)}else{const i=yield h("Footer").catch(()=>'<footer class="footer"><p>© 2025</p></footer>');e.innerHTML=`
        ${o}
        ${r}
        <div class="not-found">
          <div class="container">
            <h1>404</h1>
            <p>Страница не найдена</p>
            <a href="${t}" class="back-home">Вернуться на главную</a>
          </div>
        </div>
        ${i}
      `,u("Header",H),u("MobileMenu",M),u("Footer",k)}console.log("Приложение инициализировано")}catch(o){throw console.error("Ошибка при инициализации приложения:",o),e.innerHTML=`
      <div class="error">
        <h1>Ошибка</h1>
        <p>Произошла ошибка при загрузке страницы:</p>
        <pre>${o.message}</pre>
        <button onclick="location.reload()">Перезагрузить страницу</button>
      </div>
    `,o}})}function $(){if(window.location.hash){const e=window.location.hash.substring(1),t=document.getElementById(e);t&&setTimeout(()=>{const o=document.querySelector(".header"),r=o?o.offsetHeight:0,n=t.getBoundingClientRect().top+window.scrollY-r;window.scrollTo({top:n,behavior:"smooth"})},300)}}function N(){document.body.addEventListener("click",e=>{const t=e.target.closest("a");if(t&&t.href&&t.href.startsWith(window.location.origin)&&!t.dataset.external){const o=new URL(t.href);o.pathname===window.location.pathname&&o.hash&&(e.preventDefault(),window.history.pushState(null,"",o.hash),$())}})}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("root");e&&(e.innerHTML=`
      <div style="padding: 20px; text-align: center;">
        <div style="border: 4px solid #f3f3f3; border-top: 4px solid #3498db; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; margin: 0 auto;"></div>
        <p style="margin-top: 10px;">Загрузка приложения...</p>
      </div>
      <style>
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      </style>
    `);const t=J(),o=new Promise((r,n)=>{setTimeout(()=>n(new Error("Превышено время ожидания инициализации (15 сек)")),15e3)});Promise.race([t,o]).then(()=>{$(),N()}).catch(r=>{console.error("Ошибка инициализации:",r),e&&(e.innerHTML=`
          <div style="padding: 20px; text-align: center; font-family: Arial, sans-serif;">
            <h1>Не удалось загрузить приложение</h1>
            <p>${r.message}</p>
            <button onclick="location.reload()" style="padding: 10px 20px; margin-top: 15px; cursor: pointer;">
              Попробовать снова
            </button>
          </div>
        `)})});window.addEventListener("popstate",$);console.log("Main.js инициализирован");function V(){const e="IntersectionObserver"in window,t=function(){const r=document.createElement("div");return r.style.display="flex",r.style.display==="flex"}(),o=function(){const r=document.createElement("div");return r.style.display="grid",r.style.display==="grid"}();return console.log("Поддержка браузера:"),console.log("- IntersectionObserver:",e),console.log("- Flexbox:",t),console.log("- CSS Grid:",o),e||document.body.classList.add("no-intersection-observer"),t||document.body.classList.add("no-flexbox"),o||document.body.classList.add("no-grid"),{hasIntersectionObserver:e,hasFlexbox:t,hasGrid:o}}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM загружен"),document.getElementById("root"),V();const e=performance.now();console.log(`Страница загружена за ${e.toFixed(2)}ms`),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("ServiceWorker зарегистрирован:",t)}).catch(t=>{console.error("Ошибка регистрации ServiceWorker:",t)})}),"performance"in window&&"getEntriesByType"in performance&&window.addEventListener("load",()=>{const t=performance.getEntriesByType("navigation")[0],o=performance.getEntriesByType("resource");console.log(`Общее время загрузки: ${t.loadEventEnd.toFixed(2)}ms`);const r=o.reduce((n,i)=>n+i.transferSize,0);console.log(`Загружено ${o.length} ресурсов (${(r/1024).toFixed(2)} KB)`)})});window.onerror=function(e,t,o,r,n){return console.error("Глобальная ошибка:",{message:e,source:t,lineno:o,colno:r,error:n}),!1};window.appVersion={version:"1.0.0",buildDate:new Date().toISOString(),environment:"production"};console.log("Main.js выполнение завершено");
